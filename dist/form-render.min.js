/*
formBuilder - http://kevinchappell.github.io/formBuilder/
Version: 1.9.8
Author: Kevin Chappell <kevin.b.chappell@gmail.com>
*/
"use strict";!function(e){var t=function(t,r){var a={theme:"fresh",labels:{off:"Off",on:"On"}},n=e.extend(a,r),o=e('<div class="kc-toggle"/>').insertAfter(t).append(t);o.toggleClass("on",t.is(":checked"));var i='<div class="kct-on">'+n.labels.on+"</div>",c='<div class="kct-off">'+n.labels.off+"</div>",l='<div class="kct-handle"></div>',s='<div class="kct-inner">'+i+l+c+"</div>";o.append(s),o.click(function(){t.attr("checked",!t.attr("checked")),e(this).toggleClass("on")})};e.fn.kcToggle=function(r){var a=this;return a.each(function(){var a=e(this);if(!a.data("kcToggle")){var n=new t(a,r);a.data("kcToggle",n)}})}}(jQuery);var FormRender=function(e,t){var r=this,a={destroyTemplate:!0,container:!1,dataType:"xml",formData:!1,label:{selectColor:"Select Color",noFormData:"No form data.",formRendered:"Form Rendered"},render:!0,notify:{error:function(e){return console.error(e)},success:function(e){return console.log(e)},warning:function(e){return console.warn(e)}}},n={},o=$.extend(a,e);n.getElement=function(){return t.id||(t.id=n.makeId(t)),document.getElementById(t.id)},n.makeId=function(e){var t=(new Date).getTime();return e.tagName+"-"+t},!o.formData&&t&&(t=n.getElement(),o.formData=t.value),n.markup=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments.length<=2||void 0===arguments[2]?"":arguments[2];t=n.attrString(t),r=Array.isArray(r)?r.join(""):r;var a=["input"],o=-1===a.indexOf(e)?"<"+e+" "+t+">"+r+"</"+e+">":"<"+e+" "+t+"/>";return o},n.fieldRender=function(e){var t="",r="",a="",i=n.parseAttrs(e.attributes),c=i.description||"",l="",s=$("option",e);if(i.id=i.name,i.required&&(i.required=null,i["aria-required"]="true",l='<span class="required">*</span>'),"hidden"!==i.type){c&&(c='<span class="tooltip-element" tooltip="'+c+'">?</span>');var d=i.label||"";r='<label for="'+i.id+'">'+d+" "+l+" "+c+"</label>"}var u=i.label;delete i.label,delete i.description;var f=n.attrString(i);switch(i.type){case"textarea":case"rich-text":delete i.type,delete i.value,t=r+"<textarea "+f+"></textarea>";break;case"select":i.type=i.type.replace("-group",""),s.length&&s.each(function(e,t){e=e;var r=n.parseAttrs(t.attributes),o=n.attrString(r);a+="<option "+o+">"+t.textContent+"</option>"}),t=r+"<select "+f+">"+a+"</select>";break;case"checkbox-group":case"radio-group":i.type=i.type.replace("-group",""),delete i.className,s.length&&!function(){var e="checkbox"===i.type?i.name+"[]":i.name;s.each(function(t,r){var o=Object.assign({},i,n.parseAttrs(r.attributes)),c=void 0;o.selected&&(delete o.selected,o.checked=null),o.name=e,o.id=i.id+"-"+t,c=n.attrString(o),a+="<input "+c+' /> <label for="'+o.id+'">'+r.textContent+"</label><br>"})}(),t=r+'<div class="'+i.type+'-group">'+a+"</div>";break;case"text":case"password":case"email":case"file":case"hidden":case"date":case"autocomplete":t=r+" <input "+f+">";break;case"color":t=r+" <input "+f+"> "+o.label.selectColor;break;case"button":case"submit":t="<button "+f+">"+u+"</button>";break;case"checkbox":t="<input "+f+"> "+r,i.toggle&&setTimeout(function(){$(document.getElementById(i.id)).kcToggle()},100);break;default:t="<"+i.type+"></"+i.type+">"}return"hidden"!==i.type&&(t=n.markup("div",{className:"form-group field-"+i.id},t)),t},n.attrString=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&(r=n.safeAttr(r,e[r]),t.push(r.name+r.value));return t.join(" ")},n.safeAttr=function(e,t){var r={className:"class"};return e=r[e]||e,t=t?window.JSON.stringify(t):!1,t=t?"="+t:"",{name:e,value:t}},n.parseAttrs=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r].name]=e[r].value);return t};var i=[],c=$.parseXML(o.formData),l=$("field",c);if(!c)return o.notify.error(o.label.noFormData),!1;o.notify.success(o.label.formRendered),l.length&&l.each(function(e,t){e=e,i.push(n.fieldRender(t))});var s=i.join("");return o.render?o.container&&o.container.length?o.container.html(s):t&&t.replaceWith(s):r.markup=s,r};!function(e){e.fn.formRender=function(e){this.each(function(){var t=new FormRender(e,this);return t})}}(jQuery);