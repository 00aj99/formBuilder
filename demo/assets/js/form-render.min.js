/*
formBuilder - http://kevinchappell.github.io/formBuilder/
Version: 1.8.2
Author: Kevin Chappell <kevin.b.chappell@gmail.com>
*/
"use strict";!function(e){var t=function(t,n){var r={theme:"fresh",labels:{off:"Off",on:"On"}},a=e.extend(r,n),o=e('<div class="kc-toggle"/>').insertAfter(t).append(t);o.toggleClass("on",t.is(":checked"));var i='<div class="kct-on">'+a.labels.on+"</div>",s='<div class="kct-off">'+a.labels.off+"</div>",c='<div class="kct-handle"></div>',l='<div class="kct-inner">'+i+c+s+"</div>";o.append(l),o.click(function(){t.attr("checked",!t.attr("checked")),e(this).toggleClass("on")})};e.fn.kcToggle=function(n){var r=this;return r.each(function(){var r=e(this);if(!r.data("kcToggle")){var a=new t(r,n);r.data("kcToggle",a)}})}}(jQuery);var FormRender=function(e,t){var n=this,r={destroyTemplate:!0,container:!1,dataType:"xml",formData:!1,label:{selectColor:"Select Color",noFormData:"No form data.",formRendered:"Form Rendered"},render:!0,notify:{error:function(e){return console.error(e)},success:function(e){return console.log(e)},warning:function(e){return console.warn(e)}}},a={},o=$.extend(r,e);a.getElement=function(){return t.id||(t.id=a.makeId(t)),t.onchange||(t.onchange=function(){o.notify.success(o.messages.formUpdated)}),t},a.makeId=function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],t=(new Date).getTime();return e.tagName+"-"+t},!o.formData&&t&&(t=a.getElement(),o.formData=t.value),a.markup=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]?"":arguments[2];t=a.attrString(t),n=Array.isArray(n)?n.join(""):n;var r=["input"],o=-1===r.indexOf(e)?"<"+e+" "+t+">"+n+"</"+e+">":"<"+e+" "+t+"/>";return o},a.fieldRender=function(e){var t="",n="",r="",i=a.parseAttrs(e.attributes),s=i.description||"",c="",l=$("option",e);i.id=i.name,i.required&&(i.required=null,i["aria-required"]="true",c='<span class="required">*</span>'),"hidden"!==i.type&&(s&&(s='<span class="tooltip-element" tooltip="'+s+'">?</span>'),n='<label for="'+i.id+'">'+i.label+" "+c+" "+s+"</label>");var d=i.label;delete i.label,delete i.description;var u=a.attrString(i);switch(i.type){case"textarea":case"rich-text":delete i.type,delete i.value,t=n+"<textarea "+u+"></textarea>";break;case"select":i.type=i.type.replace("-group",""),l.length&&l.each(function(e,t){e=e;var n=a.parseAttrs(t.attributes),o=a.attrString(n),i=t.innerHTML||t.innerContent||t.innerText||t.childNodes[0].nodeValue||t.value;r+="<option "+o+">"+i+"</option>"}),t=n+"<select "+u+">"+r+"</select>";break;case"checkbox-group":case"radio-group":i.type=i.type.replace("-group",""),delete i.className,l.length&&!function(){var e="checkbox"===i.type?i.name+"[]":i.name;l.each(function(t,n){var o=$.extend({},i,a.parseAttrs(n.attributes)),s=void 0,c=void 0;o.selected&&(delete o.selected,o.checked=null),o.name=e,o.id=i.id+"-"+t,s=a.attrString(o),c=n.innerHTML||n.innerContent||n.innerText||n.value||"",r+="<input "+s+' /> <label for="'+o.id+'">'+c+"</label><br>"})}(),t=n+'<div class="'+i.type+'-group">'+r+"</div>";break;case"text":case"password":case"email":case"file":case"hidden":case"date":case"autocomplete":t=n+" <input "+u+">";break;case"color":t=n+" <input "+u+"> "+o.label.selectColor;break;case"button":case"submit":t="<button "+u+">"+d+"</button>";break;case"checkbox":t="<input "+u+"> "+n,i.toggle&&setTimeout(function(){$(document.getElementById(i.id)).kcToggle()},100);break;default:t="<"+i.type+"></"+i.type+">"}return"hidden"!==i.type&&(t=a.markup("div",{className:"form-group field-"+i.id},t)),t},a.attrString=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&(n=a.safeAttr(n,e[n]),t.push(n.name+n.value));return t.join(" ")},a.safeAttr=function(e,t){var n={className:"class"};return e=n[e]||e,t=t?window.JSON.stringify(t):!1,t=t?"="+t:"",{name:e,value:t}},a.parseAttrs=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n].nodeName]=e[n].nodeValue);return t};var i=[],s=$.parseXML(o.formData),c=$("field",s);if(!s)return o.notify.error(o.label.noFormData),!1;o.notify.success(o.label.formRendered),c.length&&c.each(function(e,t){e=e,i.push(a.fieldRender(t))});var l=i.join("");return o.render?o.container&&o.container.length?o.container.html(l):t&&t.replaceWith(l):n.markup=l,n};!function(e){e.fn.formRender=function(t){this.each(function(){var n=this,r=new FormRender(t,n);e(n).data("formRender",r)})}}(jQuery);
//# sourceMappingURL=form-render.min.js.map
